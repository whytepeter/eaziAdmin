import{b as S,m as V,o as c,c as u,i as a,j as o,u as e,aj as d,a as t,f as D,t as v,ak as z,_ as N,p as H,q as M,D as Z,d as C,A as F,L as q,$ as O,al as K,am as Q,k as P,an as G,ao as J,F as W,e as X,ap as Y,n as ee}from"./index-351c9552.js";import{A as ae}from"./arrow-up-tiny-f1e347f6.js";import{T as te}from"./TablePagination-dad6335d.js";import{u as se}from"./useDebouncedValue-5adf218c.js";/* empty css                                                                        */const le={class:"relative"},oe={class:"business"},ne={class:"business-avatar"},re=["src"],ie={class:"business-name"},de={class:"capitalize"},ce={__name:"BusinessTable",props:{data:Object,isLoading:{type:Boolean,default:!1}},setup(n){const i=S([]);return(w,g)=>{const p=V("RouterLink");return c(),u("div",le,[a(e(z),{selection:i.value,"onUpdate:selection":g[0]||(g[0]=s=>i.value=s),id:"business-table",value:n.data},{default:o(()=>[a(e(d),{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(e(d),{sortable:"",field:"business",header:"Business"},{body:o(s=>[a(p,{to:{name:"CompanyOverview",params:{slug:s.data._id},query:{name:s.data.company.companyName}}},{default:o(()=>[t("div",oe,[t("div",ne,[s.data.company.logo?(c(),u("img",{key:0,src:s.data.company.logo,alt:"",class:"w-full h-full rounded-full object-cover"},null,8,re)):D("",!0)]),t("div",ie,v(s.data.company.companyName),1)])]),_:2},1032,["to"])]),_:1}),a(e(d),{field:"registrationType",header:"Account"},{body:o(s=>{var b;return[t("div",de,v((b=s.data.registrationType)==null?void 0:b.toLowerCase()),1)]}),_:1}),a(e(d),{field:"employeesCount",header:"Employee"}),a(e(d),{field:"payroll",header:"Payroll"}),a(e(d),{sortable:"",field:"registered",header:"Status"}),a(e(d),{sortable:"",field:"createdAtFormatted",header:"Sign Up Date"})]),_:1},8,["selection","value"])])}}},ue="/assets/small-curve-green-e12f214d.svg";const U=n=>(H("data-v-b90b86a2"),n=n(),M(),n),pe={class:"stats-card flex items-center gap-4"},_e={class:"label"},ve={class:"value"},me={class:"flex items-center mb-1 text-sm text-[#219653]"},ge=U(()=>t("div",{class:"flex-1 text-center"},"1%",-1)),be=U(()=>t("img",{src:ue},null,-1)),fe={__name:"CountCard",props:{label:String,value:String},setup(n){return(i,w)=>(c(),u("div",pe,[t("div",null,[t("div",_e,v(n.label),1),t("div",ve,v(n.value),1)]),t("div",null,[t("div",me,[ge,t("div",null,[a(e(ae))])]),be])]))}},B=N(fe,[["__scopeId","data-v-b90b86a2"]]),he={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},ye=t("path",{fill:"#D9EBCD",d:"M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"},null,-1),xe=[ye];function we(n,i){return c(),u("svg",he,xe)}const $e={render:we};const Ce={class:"flex gap-4 mb-10"},Pe={class:"flex items-center mb-10"},Be={class:"flex gap-4"},Se={class:"relative"},Le={key:0,class:"font-medium"},Ie={class:"ml-auto"},Te={__name:"Index",setup(n){const i=S(""),w=se(i,300),g=[{label:"A-Z",value:"ASC",by:"companyName"},{label:"Z-A",value:"DESC"},{label:"Highest to lowest revenue",value:"$1"},{label:"Highest to lowest staff",value:"$2"},{label:"most recent to oldest",value:"$3"},{label:"Company",value:"$4"},{label:"Personal",value:"$5"}],p=S(null),s=Z({page:1,rowsPerPage:10}),b=C(()=>{let f=w.value??"";return{input:{paging:{limit:s.rowsPerPage,skip:(s.page-1)*s.rowsPerPage,search:f},filter:[]}}}),{data:m,error:j,isLoading:L}=F("ListCompanies",b),E=C(()=>!!(L.value&&m.value)),{data:R}=F("ListByRegistrationTypes"),$=C(()=>{let{users:f=[],total:r}=R.value??{},h={total:r};return f.forEach(y=>{let{registrationType:_,accountsCount:x}=y;_=_.toLowerCase(),h[_]=x}),h});return(f,r)=>{const h=V("easiButton2");return c(),u("div",null,[a(q,{data:e(m),error:e(j)},{default:o(()=>{var y,_,x,I,T,k,A;return[t("div",null,[t("div",Ce,[a(B,{label:"All business",value:(y=e($))==null?void 0:y.total},null,8,["value"]),a(B,{label:"Company",value:(_=e($))==null?void 0:_.company},null,8,["value"]),a(B,{label:"Personal",value:(x=e($))==null?void 0:x.personal},null,8,["value"])]),t("div",Pe,[t("div",Be,[a(O,{search:i.value,"onUpdate:search":r[0]||(r[0]=l=>i.value=l)},null,8,["search"]),t("div",null,[a(e(K),{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=l=>p.value=l)},{default:o(()=>[t("div",Se,[a(e(Q),{class:"bg-[#F2F1F1] flex gap-2 items-center rounded-md px-4 h-[44px] whitespace-nowrap"},{default:o(()=>[P(" Filter "),p.value?(c(),u("div",Le,v(p.value.label),1)):D("",!0),a(G)]),_:1}),a(e(J),{class:"z-10 w-44 text-sm bg-white rounded-lg grid absolute right-0 top-14 shadow-lg"},{default:o(()=>[(c(),u(W,null,X(g,l=>a(e(Y),{class:"py-2 px-4 hover:bg-gray-200 cursor-pointer border-b border-gray-200",key:l.label,value:l},{default:o(()=>[P(v(l.label),1)]),_:2},1032,["value"])),64))]),_:1})])]),_:1},8,["modelValue"])])]),t("div",Ie,[a(h,{class:"w-[250px]"},{leftIcon:o(()=>[a(e($e))]),default:o(()=>[P(" Add Business ")]),_:1})])]),t("div",{class:ee({"opacity-50 pointer-events-none":e(E)})},[a(te,{class:"mb-2",page:s.page,"onUpdate:page":r[2]||(r[2]=l=>s.page=l),rowsPerPage:s.rowsPerPage,"onUpdate:rowsPerPage":r[3]||(r[3]=l=>s.rowsPerPage=l),"total-pages":(T=(I=e(m))==null?void 0:I.pagination)==null?void 0:T.pageTotal,"total-records":(A=(k=e(m))==null?void 0:k.pagination)==null?void 0:A.totalRecords},null,8,["page","rowsPerPage","total-pages","total-records"]),a(ce,{isLoading:e(L),data:e(m).companies},null,8,["isLoading","data"])],2)])]}),_:1},8,["data","error"])])}}},Ne=N(Te,[["__scopeId","data-v-190ba5f9"]]);export{Ne as default};
//# sourceMappingURL=Index-c86b0af6.js.map
