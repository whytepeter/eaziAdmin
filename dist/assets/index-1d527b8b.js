import{_ as V}from"./ReportHeader-887a12d4.js";import{_ as k,N as T,O as S,P as C,Q as x,R as F,S as I,U as P,o as c,c as m,a as t,t as y,i as d,u as s,W as j,p as U,q as Y,m as z,x as b,j as $,k as R,X as G,F as W,b as H,d as v,e as J,n as Q,K as B,f as w,Y as K,a5 as X,J as Z,A as M,$ as aa}from"./index-351c9552.js";import{_ as q,L,h as A,E as ta,p as ea}from"./chartjs-plugin-datalabels.esm-5d41c6ea.js";import{D as sa}from"./printer-32f9b510.js";import"./new-logo-green-213c5130.js";const na=r=>(U("data-v-97ff553b"),r=r(),Y(),r),oa={class:"card card-white"},la=na(()=>t("h3",{class:"chart-title mb-4"},"Average Transaction Frequency",-1)),ra={class:"gray-block mb-4"},ca={class:"frequency"},da={class:"amount"},ia={__name:"TransactionChart",props:{amount:String,frequency:String,chartTitle:String,data:Object},setup(r){T.register(S,C,x,F,I,P);const n={responsive:!0,plugins:{legend:{display:!1}}};return(l,u)=>(c(),m("div",oa,[la,t("div",ra,[t("div",ca,y(r.frequency),1),t("div",da,y(r.amount),1)]),d(s(j),{data:r.data,options:n},null,8,["data"])]))}},D=k(ia,[["__scopeId","data-v-97ff553b"]]),ua={__name:"DownloadButton",setup(r){return(n,l)=>{const u=z("easiButton2");return c(),b(u,{outlined:""},{rightIcon:$(()=>[d(s(sa))]),default:$(()=>[R("Download ")]),_:1})}}};const _a={class:"fixed opacity-0 -z-2"},pa={class:"grid gap-4"},ha={class:"grid gap-4"},ma={class:"grid gap-4"},ga={__name:"Download",setup(r){const n={daily:{labels:["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],datasets:[{data:[40,20,12,20,50,120,55],backgroundColor:["#11453B"]}],borderColor:"green"},monthly:{labels:["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"],datasets:[{data:[40,20,12,20,50,120,55,12,20,50,120,55,89],backgroundColor:["#11453B"]}],borderColor:"green"},yearly:{labels:["1996","2005","2011","2020","2035","2050"],datasets:[{data:[40,20,12,20,50,120,55],backgroundColor:["#11453B"]}],borderColor:"green"}},l=async()=>{const[u,{width:_,height:i}]=await A("#page1"),o=new ta({unit:"px",format:[_,i]});o.addImage(u,"JPEG",0,0,_,i),o.addPage();const[e]=await A("#page2");o.addImage(e,"JPEG",0,0,_,i),o.addPage();const[a]=await A("#page3");o.addImage(a,"JPEG",0,0,_,i),o.save("payroll-report.pdf")};return(u,_)=>(c(),m(W,null,[(c(),b(G,{to:"body"},[t("div",_a,[d(q,{id:"page1","report-title":"Wallet Report","page-no":"1","total-pages":"3"},{default:$(()=>[t("div",pa,[d(D,{data:n.daily,amount:"141,560,334.03",frequency:"Daily"},null,8,["data"]),d(D,{data:n.monthly,amount:"141,560,334.03",frequency:"Monthly"},null,8,["data"])])]),_:1}),d(q,{id:"page2","page-no":"2","total-pages":"3"},{default:$(()=>[t("div",ha,[d(D,{data:n.yearly,amount:"141,560,334.03",frequency:"Yearly"},null,8,["data"])])]),_:1}),d(q,{id:"page3","page-no":"3","total-pages":"3"},{default:$(()=>[t("div",ma,[d(L)])]),_:1})])])),d(ua,{outlined:"",onClick:l})],64))}},ya=k(ga,[["__scopeId","data-v-a4b35dae"]]);const va={class:"flex gap-4 mb-8 overflow-auto"},fa=["onClick"],ba={class:"frequency-btn__frequency"},$a={class:"frequency-btn__amount"},wa={class:"h-[250px]"},ka={__name:"AvgTransactionFrequency",props:{data:Object},setup(r){const n=r;T.register(S,C,x,F,I,P);const l=H("daily"),u=v(()=>{const{averageDailyAmount:o,averageMonthlyAmount:e,averageYearlyAmount:a}=n.data;return[{frequency:"daily",amount:o},{frequency:"monthly",amount:e},{frequency:"yearly",amount:a}]}),_=v(()=>{const{weekly:o,yearly:e,monthly:a}=n.data;let p={daily:o==null?void 0:o.byDays,monthly:a==null?void 0:a.byMonths,yearly:e==null?void 0:e.byYears}[l.value];const g=h=>/^\d+$/.test(h)?h:h.slice(0,3);if(p){const h=Object.keys(p).map(g),f=Object.values(p);return{labels:h,datasets:[{data:f,backgroundColor:["#11453B"]}],borderColor:"green"}}return null}),i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}};return(o,e)=>(c(),m("div",null,[t("div",va,[(c(!0),m(W,null,J(s(u),a=>(c(),m("button",{class:Q(["frequency-btn",{active:l.value===a.frequency}]),key:a.frequency,onClick:()=>l.value=a.frequency},[t("div",ba,y(a.frequency),1),t("div",$a,y(s(B)(a.amount)),1)],10,fa))),128))]),t("div",wa,[s(_)?(c(),b(s(j),{key:0,data:s(_),options:i},null,8,["data"])):w("",!0)])]))}},Ta=k(ka,[["__scopeId","data-v-0edf1b99"]]);const Ca={key:0},xa={class:"flex items-center"},qa={class:"mr-12"},Aa={class:"legend flex-shrink-0"},Da={class:"legend__item legend__title"},Ba={class:"legend__item__label"},Sa={class:"legend__item__value"},Fa={class:"legend__item__label"},Ia={class:"legend__item__value"},Pa={__name:"PieChart",props:{data:{type:Object}},setup(r){const n=r,l=[ea];T.register(K,C,x);const u=v(()=>{if(n.data){let{items:i,total:o}=n.data,e=[],a=[],p=[];const g=[];return i.forEach(({label:h,value:f,color:O})=>{let E=Number(f/o.value*100).toFixed(2);a.push(E),p.push(h),e.push(O),g.push({label:h+` (${E}%)`,color:O,value:B(f)})}),{chartData:{labels:p,datasets:[{backgroundColor:e,data:a}]},legend:g}}return null}),_=v(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white",font:{size:16},formatter(i){return`${i}%`}}}}));return(i,o)=>(c(),m("div",null,[s(u)?(c(),m("div",Ca,[t("div",xa,[t("div",qa,[d(s(X),{data:s(u).chartData,options:s(_),plugins:l},null,8,["data","options"])]),t("div",Aa,[t("div",Da,[t("div",Ba,y(r.data.total.label),1),t("div",Sa,y(s(B)(r.data.total.value)),1)]),(c(!0),m(W,null,J(s(u).legend,(e,a)=>(c(),m("div",{key:`legend-${a}`,style:Z({"--color":e.color})},[t("div",Fa,y(e.label),1),t("div",Ia,y(e.value),1)],4))),128))])])])):w("",!0)]))}},N=k(Pa,[["__scopeId","data-v-b0717f87"]]),Wa={class:"grid grid-cols-2 gap-4 gap-y-8"},Oa={class:"card card-white"},Ea=t("h3",{class:"font-medium mb-5"},"Average Transaction Frequency",-1),Ma={class:"card card-white"},Na=t("h3",{class:"font-normal mb-4"},"Top up",-1),ja={class:"flex items-center justify-between mb-4"},Ja=t("h3",{class:"font-medium"},"Latest Transactions",-1),La={class:"w-3/5"},Va={class:"card card-white"},Ua=t("h3",{class:"font-normal mb-4"},"Withdrawal",-1),Qa={__name:"index",setup(r){T.register(S,C,x,F,I,P);const{data:n}=M("ViewWalletChart",{input:{filter:"MONTH"}}),{data:l}=M("ViewWalletReport",{}),u=v(()=>{if(l!=null&&l.value){const{walletTransaction:e}=l.value;return e.map(a=>({date:a.createdAt,companyLogo:a.company.company.logo,company:a.company.company.companyName,transaction:a.narration,amount:a.amount}))}return[]}),_=v(()=>{if(l!=null&&l.value){const{averageDailyAmount:e,averageMonthlyAmount:a,averageYearlyAmount:p,weekly:g,monthly:h,yearly:f}=l.value;return{averageDailyAmount:e,averageMonthlyAmount:a,averageYearlyAmount:p,weekly:g,monthly:h,yearly:f}}return null}),i=v(()=>{if(n&&n.value){let{totalTopUp:e,paystackTopUp:a,bankTopUp:p}=n.value;return{items:[{value:a,color:"#396F64",label:"Paystack"},{value:p,color:"#11453B",label:"Bank Transfer"}],total:{label:"Total Top up",value:e}}}return null}),o=v(()=>{if(n&&n.value){let{totalWithdrawal:e,paystackWithdrawal:a,bankWithdrawal:p}=n.value;return{items:[{value:a,color:"#EA4E4B",label:"Paystack"},{value:p,color:"#808080",label:"Bank Transfer"}],total:{label:"Total Withdrawal",value:e}}}return null});return(e,a)=>(c(),m("div",null,[d(V,{title:"Wallet Report"},{download:$(()=>[d(ya)]),_:1}),t("div",Wa,[t("div",Oa,[Ea,s(_)?(c(),b(Ta,{key:0,data:s(_)},null,8,["data"])):w("",!0)]),t("div",Ma,[Na,s(i)?(c(),b(N,{key:0,data:s(i)},null,8,["data"])):w("",!0)]),t("div",null,[t("div",ja,[Ja,t("div",La,[d(aa,{"with-filter":""})])]),d(L,{data:s(u)},null,8,["data"])]),t("div",Va,[Ua,s(o)?(c(),b(N,{key:0,data:s(o)},null,8,["data"])):w("",!0)])])]))}};export{Qa as default};
//# sourceMappingURL=index-1d527b8b.js.map
