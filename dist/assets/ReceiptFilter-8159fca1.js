import{C as F,b as p,d as m,D as f,o,c as r,a as t,t as d,f as y,u as h,n as w,F as g,e as S,w as A,E as D}from"./index-351c9552.js";import{f as B}from"./filter-835e61cc.js";const E={class:"flex items-center gap-1"},R=t("span",{class:"text-dark-700"},"Filter",-1),H={key:0,class:"w-fit truncate w-fit font-medium text-sm text-dark-900"},N={class:"w-6"},T=["src"],$=["onClick"],q={class:"flex items-center gap-3 cursor-pointer px-4 py-2 hover:bg-primary-hover hover:text-white"},Z={__name:"ReceiptFilter",emits:["query"],setup(z,{emit:_}){const v=F(),i=p(""),a=p(!1),u=p(null),c=m(()=>!!v.path.includes("compliance"));m(()=>!!v.path.includes("charges"));const l=f({pagination:{page:null,limit:1e3},filter:{company:null,amount:null}});c.value&&(l.filter.type=null),console.log(l);const x=f([{name:"All",value:"all",type:"all",show:!0},{name:"A - Z",value:"ASC",type:"company",show:!0},{name:"Z - A",value:"DESC",type:"company",show:!0},{name:"Type",value:null,type:"type",show:c.value},{name:"Date",value:"ASC",type:"date",show:!0},{name:"Completed",value:"completed",type:"status",show:!0},{name:"Highest Transaction",value:"DESC",type:"amount",show:!0},{name:"Lowest Transaction",value:"ASC",type:"amount",show:!0}]),C=async e=>{a.value=!0,k(),e.type=="all"?a.value=!1:e.type=="status"||(l.filter[e.type]=e.value),console.log(l),await _("query",l),i.value=e.name},b=m(()=>{if(!a.value||!u.value)return"";const e=u.value.getBoundingClientRect(),n=window.innerHeight,s=e.bottom>n-200;return console.log(e.bottom,n-200),s?"bottom-12":"top-14"}),k=()=>{l.pagination={page:null,limit:1e3},l.filter={company:null,amount:null},c.value&&(l.filter.type=null)};return(e,n)=>(o(),r(g,null,[t("div",{ref_key:"filter",ref:u,class:"relative"},[t("div",{onClick:n[0]||(n[0]=s=>a.value=!0),class:"flex items-center justify-between gap-2 rounded-lg bg-newGrey p-2 cursor-pointer"},[t("div",E,[R,i.value?(o(),r("span",H,d(i.value),1)):y("",!0)]),t("div",N,[t("img",{src:h(B),alt:""},null,8,T)]),a.value?(o(),r("div",{key:0,class:w([h(b),"absolute h-56 w-52 rounded-xl overflow-hidden overflow-y-auto right-0 shadow-lg bg-white flex flex-col text-sm"]),style:{"z-index":"2"}},[(o(!0),r(g,null,S(x,s=>A((o(),r("div",{class:"border-b last:border-b-0",key:s.name,onClick:L=>C(s)},[t("div",q,[t("span",null,d(s.name),1)])],8,$)),[[D,s.show]])),128))],2)):y("",!0)])],512),t("div",{onClick:n[1]||(n[1]=s=>a.value=!1),class:w([a.value?"":"pointer-events-none","bg-transparent fixed inset-0"])},null,2)],64))}};export{Z as _};
//# sourceMappingURL=ReceiptFilter-8159fca1.js.map
