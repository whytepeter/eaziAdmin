import{s as I,d as E,b as f,H as C,g as N,o as g,c as w,a as t,t as n,i as s,j as o,u as v,n as F,y as U,I as j,m as x}from"./index-351c9552.js";const L={class:"flex flex-col gap-4"},V={class:"flex items-center justify-between"},M={class:"text-xl"},O={class:"applicant"},G={class:"applicant-avatar"},H=["src"],W={key:1,class:"w-full h-full bg-primary flex items-center justify-center text-white font-medium;"},q={class:"applicant-name"},J={style:{width:"10rem"},class:"break-words"},K={class:"break-words"},Q={class:"line-clamp-2"},X={style:{width:"18rem"},class:"line-clamp-2"},Z={__name:"Transaction",props:{user:String,searchText:{type:String,default:""},transactions:{type:Array,default:()=>[]}},setup(m){const u=m;I(),U();const{formatAmount:b,formatDate:R,initials:z}=j,B=E(()=>u.transactions),_=E(()=>u.searchText),d=f([]),p=f([]),c=f(0),r=f(10),h=a=>{c.value=a,y()},y=()=>{console.log("Transactions",u.transactions);let a=u.transactions;d.value=a.slice(c.value*r.value,c.value*r.value+r.value),d.value.length==0&&c.value>0&&h(c.value-1)},D=a=>a?{PROCESSING:{color:"bg-[#E7F7F8]",text:"Processing"},COMPLETED:{color:"bg-[#D4FFE7]",text:"Completed"},FAILED:{color:"bg-[#FFEEED]",text:"Failed"},REVERSED:{color:"bg-[#F9EDFB]",text:"Reversed"}}[a]:{color:"",text:"N/A"},S=a=>a||"N/A";C(_,()=>{_.value.trim()!==""?d.value=u.transactions.filter(a=>a.company.toLowerCase().includes(_.value.toLowerCase())):y()}),C(B,()=>{y()}),N(()=>{y()});const A=a=>{p.value.push(a.data)},P=a=>{p.value=p.value.filter(i=>i._id!==a.data._id)};return(a,i)=>{const T=x("easiPaginate"),l=x("Column"),k=x("DataTable");return g(),w("div",L,[t("div",V,[t("h2",M,n(m.user)+" Transactions",1),s(T,{data:m.transactions,"info-only":"","onPage:update":h,currentPage:c.value,pageSize:r.value,"onUpdate:pageSize":i[0]||(i[0]=e=>r.value=e),visibleData:d.value},null,8,["data","currentPage","pageSize","visibleData"])]),s(k,{selection:p.value,"onUpdate:selection":i[1]||(i[1]=e=>p.value=e),id:"table-style",scrollable:"",value:d.value,onRowSelect:A,onRowUnselect:P},{default:o(()=>[s(l,{selectionMode:"multiple",headerStyle:"width: 2rem"}),s(l,{style:{"white-space":"nowrap"},sortable:"",field:"company",header:"Company Name"},{body:o(e=>[t("div",O,[t("div",null,[t("div",G,[e.data.pfp?(g(),w("img",{key:0,src:e.data.pfp,alt:"",class:"object-cover"},null,8,H)):(g(),w("span",W,n(v(z)(e.data.company)),1))])]),t("div",q,n(e.data.company),1)])]),_:1}),s(l,{field:"transactionId",header:"Transaction ID"},{body:o(e=>[t("div",J,n(S(e.data.transactionId)),1)]),_:1}),s(l,{sortable:"",field:"transactionType",header:"Type"},{body:o(e=>[t("div",{class:F([e.data.transactionType=="CREDIT"?"text-success":"text-error","font-bold capitalize"])},n(e.data.transactionType),3)]),_:1}),s(l,{sortable:"",field:"category",header:"Category"},{body:o(e=>[t("div",K,n(S(e.data.category)),1)]),_:1}),s(l,{sortable:"",field:"walletBalance",header:"Amount"},{body:o(e=>[t("div",null,n(v(b)(e.data.walletBalance)),1)]),_:1}),s(l,{sortable:"",style:{"white-space":"nowrap"},field:"createdAt",header:"Date"},{body:o(e=>[t("div",Q,n(v(R)(e.data.createdAt)),1)]),_:1}),s(l,{sortable:"",field:"status",header:"Status"},{body:o(e=>[t("div",{class:F(["py-2 w-fit px-3 text-center rounded-full",D(e.data.status).color])},n(D(e.data.status).text),3)]),_:1}),s(l,{field:"description",header:"Description"},{body:o(e=>[t("div",X,n(v(b)(e.data.description)),1)]),_:1}),s(l,{sortable:"",field:"walletBalance",header:"Wallet Balance"},{body:o(e=>[t("div",null,n(v(b)(e.data.walletBalance)),1)]),_:1})]),_:1},8,["selection","value"]),s(T,{data:m.transactions,"onPage:update":h,currentPage:c.value,pageSize:r.value,"onUpdate:pageSize":i[2]||(i[2]=e=>r.value=e),visibleData:d.value},null,8,["data","currentPage","pageSize","visibleData"])])}}};export{Z as _};
//# sourceMappingURL=Transaction-2bc9d38d.js.map
