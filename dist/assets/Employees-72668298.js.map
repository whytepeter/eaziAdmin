{"version":3,"file":"Employees-72668298.js","sources":["../../src/views/company/employees/EmployeesTable.vue","../../src/views/company/employees/Employees.vue"],"sourcesContent":["<template>\n  <div>\n    <DataTable\n      class=\"table-walls\"\n      v-model:selection=\"selectedEmployees\"\n      id=\"employees-table\"\n      :value=\"data\"\n    >\n      <template #empty>\n        <div class=\"text-center py-4\">No records found!</div>\n      </template>\n      <Column selectionMode=\"multiple\" headerStyle=\"width: 3rem\">\n        <template #header>\n          <div class=\"table-header\">\n            <div></div>\n          </div>\n        </template>\n      </Column>\n      <Column sortable field=\"_id\">\n        <template #header>\n          <div class=\"table-header\">Employee ID</div>\n        </template>\n        <template #body=\"slotProps\">\n          <div>{{ slotProps.data._id.slice(0, 8) }}</div>\n        </template>\n      </Column>\n      <Column field=\"profile.firstName\">\n        <template #header>\n          <div class=\"table-header\">First Name</div>\n        </template>\n        <template #body=\"slotProps\">\n          <div class=\"user flex items-center gap-3\">\n            <div class=\"user-avatar w-8 h-8 rounded-full bg-gray-300\">\n              <img :src=\"slotProps.data.profile.avatar\" />\n            </div>\n            <div class=\"user-name\">{{ slotProps.data.profile.firstName }}</div>\n          </div>\n        </template>\n      </Column>\n      <Column field=\"profile.lastName\">\n        <template #header>\n          <div class=\"table-header\">Last Name</div>\n        </template>\n      </Column>\n      <Column field=\"job.jobTitle\">\n        <template #header>\n          <div class=\"table-header\">Job Title</div>\n        </template>\n      </Column>\n      <Column sortable field=\"job.departmentId\">\n        <template #header>\n          <div class=\"table-header\">Department</div>\n        </template>\n      </Column>\n      <Column sortable field=\"job.employmentType\">\n        <template #header>\n          <div class=\"table-header\">Work Type</div>\n        </template>\n      </Column>\n      <Column sortable field=\"job.branchId\">\n        <template #header>\n          <div class=\"table-header\">Branch</div>\n        </template>\n      </Column>\n      <Column sortable field=\"profile.status\">\n        <template #header>\n          <div class=\"table-header\">Status</div>\n        </template>\n      </Column>\n    </DataTable>\n  </div>\n</template>\n\n<script setup>\nimport DataTable from 'primevue/datatable'\nimport Column from 'primevue/column'\nimport { ref } from 'vue'\n\nconst selectedEmployees = ref([])\n\ndefineProps({\n  data: Object\n})\n</script>\n\n<style lang=\"scss\" scoped></style>\n<style lang=\"scss\">\n#employees-table {\n  font-size: 14px;\n\n  th {\n    padding: 0;\n    background-color: transparent;\n    border-radius: 0;\n    background: #f2f1f1;\n    color: #515251;\n    font-weight: 600;\n    padding: 20px 15px;\n    border: 1px solid #b5b6b5;\n  }\n\n  /* .table-header {\n        background: #F2F1F1;\n        color: #515251;\n        font-weight: 600;\n        padding: 20px 15px;\n        border: 1px solid #B5B6B5;\n\n        &:first-child {\n            border-top-left-radius: 16px;\n        }\n\n        &:last-child {\n            border-top-right-radius: 16px;\n        }\n\n    } */\n\n  td {\n    border: none;\n    color: #515251;\n    padding-top: 20px;\n    padding-bottom: 20px;\n    border: 1px solid #e7e8e7;\n\n    &:first-child {\n      border-left: 2px solid #f2f1f1;\n    }\n\n    &:last-child {\n      border-right: 2px solid #f2f1f1;\n    }\n  }\n\n  tr:nth-child(2) td {\n    background: #fbfbfb;\n  }\n}\n</style>\n","<template>\n  <div>\n    <header class=\"flex items-center justify-between mb-8\">\n      <div>\n        <h3 class=\"font-normal\">Employees</h3>\n      </div>\n      <div class=\"flex gap-4\">\n        <SearchInput v-model:search=\"search\" />\n        <Filter />\n      </div>\n\n      <div>\n        <easiButton>Edit Employee(s)</easiButton>\n      </div>\n    </header>\n\n    <Loading :data=\"employeesData\" :error=\"error\">\n      <div v-if=\"employeesData\">\n        <div :class=\"{ 'opacity-50 pointer-events-none': loadingMore }\">\n          <TablePagination class=\"mb-2\" v-model:page=\"pagination.page\" v-model:rowsPerPage=\"pagination.rowsPerPage\" />\n          <EmployeesTable :data=\"employeesData.employees\" />\n\n        </div>\n      </div>\n    </Loading>\n  </div>\n</template>\n\n<script setup>\nimport Filter from '@/components/FilterSelect.vue'\nimport SearchInput from '@/components/SearchInput.vue'\nimport EmployeesTable from './EmployeesTable.vue'\nimport TablePagination from '@/components/TablePagination.vue'\nimport { useQuery } from '@/api/useQuery'\nimport { useRoute } from 'vue-router'\nimport Loading from '@/components/Loading.vue'\nimport { reactive, computed } from 'vue'\nimport { useDebouncedValue } from '@/hooks/useDebouncedValue'\nimport { ref } from \"vue\"\n\nconst route = useRoute()\nconst companyId = route.params.slug\n\nconst search = ref('')\n\nconst debouncedSearch = useDebouncedValue(search, 300)\n\nconst pagination = reactive({\n  page: 1,\n  rowsPerPage: 10,\n})\n\n\nconst payload = computed(() => {\n  return {\n    companyId: companyId,\n    input: {\n      paging: {\n        limit: pagination.rowsPerPage,\n        skip: (pagination.page - 1) * pagination.rowsPerPage,\n        search: debouncedSearch.value\n      }\n    }\n  }\n})\n\nconst { data: employeesData, error, isLoading } = useQuery('ListEmployees', payload)\n\nconst loadingMore = computed(() => {\n  if (isLoading.value && employeesData.value) {\n    return true\n  }\n  return false\n})\n\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"names":["selectedEmployees","ref","companyId","useRoute","search","debouncedSearch","useDebouncedValue","pagination","reactive","payload","computed","employeesData","error","isLoading","useQuery","loadingMore"],"mappings":"siCA8EA,MAAMA,EAAoBC,EAAI,EAAE,sqCCrChC,MAAMC,EADQC,EAAU,EACA,OAAO,KAEzBC,EAASH,EAAI,EAAE,EAEfI,EAAkBC,EAAkBF,EAAQ,GAAG,EAE/CG,EAAaC,EAAS,CAC1B,KAAM,EACN,YAAa,EACf,CAAC,EAGKC,EAAUC,EAAS,KAChB,CACL,UAAWR,EACX,MAAO,CACL,OAAQ,CACN,MAAOK,EAAW,YAClB,MAAOA,EAAW,KAAO,GAAKA,EAAW,YACzC,OAAQF,EAAgB,KACzB,CACF,CACF,EACF,EAEK,CAAE,KAAMM,EAAe,MAAAC,EAAO,UAAAC,CAAS,EAAKC,EAAS,gBAAiBL,CAAO,EAE7EM,EAAcL,EAAS,IACvB,GAAAG,EAAU,OAASF,EAAc,MAItC"}