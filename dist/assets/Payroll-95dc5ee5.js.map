{"version":3,"file":"Payroll-95dc5ee5.js","sources":["../../src/views/company/payroll/Payroll.vue"],"sourcesContent":["<template>\n  <div>\n    <Loading :data=\"payrollData\" :error=\"false\">\n      <div v-if=\"payrollData\" class=\"grid lg:grid-cols-3 gap-6 mb-10\">\n\n        <div class=\"card payroll-card green\">\n          <div class=\"flex items-center justify-between mb-3\">\n            <h3 class=\"text\">Total Payroll</h3>\n            <!-- <div class=\"text\">February 5, 2023</div> -->\n          </div>\n          <div class=\"flex gap-2\">\n            <div class=\"info-item w-4/12\">\n              <div class=\"label\">Total salaries</div>\n              <div class=\"value\">{{ formatCurrency(payrollTotals[0]?.totalSalaries) }}</div>\n            </div>\n            <div class=\"info-item w-8/12\">\n              <div class=\"label\">Total employees paid</div>\n              <div class=\"value flex gap-2 items-center\">\n                <div>\n                  <NairaIcon class=\"\" />\n                </div>\n                {{ payrollTotals[0]?.totalEmployeesPaid }}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card payroll-card\">\n          <div class=\"flex items-center justify-between mb-3\">\n            <h3 class=\"text\">Total Compliance</h3>\n            <!-- <div class=\"text\">February 5, 2023</div> -->\n          </div>\n          <div class=\"flex gap-2\">\n            <div class=\"info-item w-4/12\">\n              <div class=\"label\">Total salaries</div>\n              <div class=\"value\">{{ formatCurrency(payrollTotals[1].totalCompliance) }}</div>\n            </div>\n            <div class=\"info-item w-8/12\">\n              <div class=\"label\">Total employees paid</div>\n              <div class=\"value flex gap-2 items-center\">\n                <div>\n                  <NairaIcon class=\"\" />\n                </div>\n                {{ payrollTotals[1].noOfCompliance }}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"card payroll-card\">\n          <div class=\"flex items-center justify-between mb-3\">\n            <h3 class=\"text\">Last payroll month</h3>\n            <div class=\"text\">{{ payrollTotals[2].lastPayrollMonth }}</div>\n          </div>\n\n          <!-- <div class=\"flex gap-2\">\n            <div class=\"info-item w-4/12\">\n              <div class=\"label\">Total salaries</div>\n              <div class=\"value\">{{  payrollTotals[1].totalCompliance }}</div>\n            </div>\n            <div class=\"info-item w-8/12\">\n              <div class=\"label\">Total employees paird</div>\n              <div class=\"value flex gap-2 items-center\">\n                <div>\n                  <NairaIcon class=\"\" />\n                </div>\n               {{ payrollTotals[1].noOfCompliance }}\n              </div>\n            </div>\n          </div> -->\n\n        </div>\n\n\n\n\n        <!-- <PayrollCard theme=\"green\" title=\"Total Payroll\" />\n        <PayrollCard title=\"Last Payroll Month\" />\n        <PayrollCard title=\"Compliance Remitted\" /> -->\n      </div>\n\n      <div class=\"flex flex-wrap gap-4 items-center justify-between mb-12\">\n        <h3 class=\"font-normal\">Payroll Transactions</h3>\n        <div class=\"flex gap-4\">\n          <SearchInput />\n          <FilterSelect />\n        </div>\n\n        <div>\n          <easiButton>New Payroll Action</easiButton>\n        </div>\n      </div>\n\n      <PayrollTransactionsTable :data=\"payrollData.payrollRecords\" />\n\n    </Loading>\n  </div>\n</template>\n\n<script setup>\nimport SearchInput from '@/components/SearchInput.vue'\n// import PayrollCard from './PayrollCard.vue'\nimport FilterSelect from '@/components/FilterSelect.vue'\nimport PayrollTransactionsTable from './PayrollTransactionsTable.vue'\nimport { useQuery } from '@/api/useQuery'\nimport { useRoute } from 'vue-router'\nimport { computed } from 'vue'\nimport Loading from '@/components/Loading.vue'\nimport { formatCurrency } from \"@/utils/currency\"\n\nconst route = useRoute()\nconst companyId = route.params.slug\n\nconsole.log({ companyId })\n\nconst { data: payrollData } = useQuery('PayrollDashboard', { companyId: companyId })\n\nconst payrollTotals = computed(() => {\n  if (payrollData.value) {\n    let { payrollTotals } = payrollData.value\n    return payrollTotals\n  }\n  return []\n})\n\n</script>\n\n<style lang=\"scss\" scoped>\n.payroll-card {\n  background: #F2F1F1;\n  border: 1px solid #E7E8E7;\n  padding: 15px 20px 20px;\n\n  .text {\n    color: #515251;\n    letter-spacing: 0.25px;\n    font-weight: 400;\n    font-size: 16px;\n  }\n\n  .info-item {\n    border-radius: 8px;\n    padding: 10px;\n    background: white;\n    border: 1px solid #E7E8E7;\n\n    .label {\n      margin-bottom: 4px;\n    }\n\n    .value {\n      font-weight: 700;\n      font-size: 14px;\n      line-height: 16px;\n    }\n  }\n\n  &.green {\n    background-color: #11453B;\n    color: white;\n\n    .text {\n      color: white;\n    }\n\n    .info-item {\n      background: #0B372F;\n      border: 1px solid #17564A;\n    }\n\n  }\n\n\n}\n</style>\n"],"names":["companyId","useRoute","payrollData","useQuery","payrollTotals","computed"],"mappings":"klEA+GA,MAAMA,EADQC,EAAU,EACA,OAAO,KAE/B,QAAQ,IAAI,CAAE,UAAAD,EAAW,EAEzB,KAAM,CAAE,KAAME,GAAgBC,EAAS,mBAAoB,CAAE,UAAWH,EAAW,EAE7EI,EAAgBC,EAAS,IAAM,CACnC,GAAIH,EAAY,MAAO,CACrB,GAAI,CAAE,cAAAE,GAAkBF,EAAY,MACpC,OAAOE,EAET,MAAO,CAAE,CACX,CAAC"}