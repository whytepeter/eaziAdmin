import{_ as E,a as b}from"./InflowOutflowCard-2182a55f.js";import{_ as F}from"./LineTab-79af4169.js";import{_ as N}from"./ReconciliationFilter-9f2d7d5b.js";import{_ as O}from"./Transaction-2bc9d38d.js";import{s as q,G as L,b as y,d as u,H as G,g as P,c as p,a,k as C,t as m,u as e,n as h,F as I,e as R,i as r,x as V,f as z,m as w,o as c,j as H,I as K,C as U}from"./index-351c9552.js";import"./filter-835e61cc.js";const J={class:"flex flex-col gap-8"},Q={class:"text-sm text-dark-600 flex gap-1 items-center"},W={style:{"box-shadow":"0px 9px 18px rgba(170, 170, 170, 0.15)"},class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-4 rounded-2xl"},X={class:"flex items-center gap-2 flex-shrink-0"},Y=["src"],Z={key:1},ee={class:"text-2xl font-bold"},te={class:"flex items-center gap-4"},oe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6"},ae={class:"mt-10 flex flex-col gap-3"},ne={class:"flex flex-col md:flex-row sm:items-center gap-4 justify-between"},se={class:"flex items-center gap-2 md:gap-4 flex-wrap"},le=["onClick"],ie={class:"text-dark-500 group-hover:text-primary text-xs"},ce={class:"flex items-center gap-2 w-full md:w-6/12 md:w-5/12"},xe={__name:"ViewReconciliation",setup(re){const v=q(),{query:B,mutate:ue}=v;L();const{initials:D}=K,k=U(),$=y(!1),_=y(""),f=y([]),T=u(()=>v.getReconciliation),t=u(()=>{const s=k.params.id;return T.value&&T.value.find(o=>o._id==s)});console.log(t.value);const n=u(()=>{const s=v.getCompanyTransactions;return s.length?s.map(o=>(o.company=t.value&&t.value.company,o)):[]});console.log("Company Balance",n.value);const A=u(()=>{const s=n.value&&n.value.filter(i=>i.transactionType=="CREDIT"),o=n.value&&n.value.filter(i=>i.transactionType=="DEBIT");return[{title:"All",value:n.value&&n.value.length},{title:"Inflow",value:s&&s.length},{title:"Outflow",value:o&&o.length}]}),S=s=>{const o=n.value&&n.value.filter(d=>d.transactionType=="CREDIT"),i=n.value&&n.value.filter(d=>d.transactionType=="DEBIT"),g={Inflow:o,Outflow:i,All:n.value};f.value=g[s.title]},j=u(()=>[{title:"Mark As True",icon:"pi pi-check",action(){console.log("Mark as True")}},{title:"Mark As False",icon:"pi pi-times",action(){console.log("Mark as False")}},{title:"View Receipt",icon:"pi pi-file",action(){console.log("View Receipt")}},{title:"Download Receipt",icon:"pi pi-download",action(){console.log("Download Receipt")}}]),M=u(()=>[{title:"Download",icon:"pi pi-download",action(){console.log("Mark as True")}},{title:"Share",icon:"pi pi-share-alt",action(){console.log("Share")}},{title:"Print",icon:"pi pi-print",action(){console.log("Print")}}]);return G(n,()=>{f.value=n.value}),P(()=>{f.value=n.value}),(async()=>{const s=k.params.id;try{const i=await B({endpoint:"GetCompanyReconciliationTransactions",payload:{input:{companyId:s,pagination:{page:null,limit:null}}},storeKey:"companyTransactions"})}catch(o){console.log(o.message)}})(),(s,o)=>{const i=w("easiButton"),g=w("easiSearch"),d=w("easiLoader");return c(),p("main",J,[a("div",Q,[a("span",{onClick:o[0]||(o[0]=l=>s.$router.go(-1)),class:"cursor-pointer hover:underline hover:text-dark-800"},"Reconciliation"),C("/ "),a("span",null,m(e(t)&&e(t).company),1)]),a("div",W,[a("div",X,[a("div",{class:h([[e(t)&&!e(t).pfp?"border-2":""],"w-14 h-14 border-tertiary rounded-full bg-primary overflow-hidden font-semibold text-white flex items-center justify-center"])},[e(t)&&e(t).pfp?(c(),p("img",{key:0,src:e(t)&&e(t).pfp,alt:"",class:"object-cover"},null,8,Y)):(c(),p("span",Z,m(e(D)(e(t)&&e(t).company)),1))],2),a("h2",ee,m(e(t)&&e(t).company),1)]),a("div",te,[(c(!0),p(I,null,R(e(M),(l,x)=>(c(),V(i,{key:`button-${x}`,onClick:l.action,variant:"outlined",class:"flex items-center gap-2"},{default:H(()=>[a("i",{class:h([l.icon])},null,2),C(" "+m(l.title),1)]),_:2},1032,["onClick"]))),128))])]),a("div",oe,[r(E,{user:"",value:e(t)&&e(t).reconciliationValue,amount:e(t)&&e(t).walletBalance},null,8,["value","amount"]),r(b,{value:.5,amount:e(t)&&e(t).totalInflow,date:"last month"},null,8,["value","amount"]),r(b,{type:"outflow",value:.5,amount:e(t)&&e(t).totalOutflow,date:"last month"},null,8,["value","amount"])]),a("div",ae,[r(F,{tabItems:e(A),onOnSetActive:S},null,8,["tabItems"]),a("div",ne,[a("div",se,[(c(!0),p(I,null,R(e(j),(l,x)=>(c(),p("button",{onClick:l.action,key:`btn-${x}`,class:"border border-dark-200 rounded-full px-2 py-[1.5px] text-dark-5000 group hover:border-primary"},[a("i",{class:h([l.icon,"text-xs text-dark-500 group-hover:text-primary mr-1"])},null,2),a("span",ie,m(l.title),1)],8,le))),128))]),a("div",ce,[r(g,{modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=l=>_.value=l),class:"grow"},null,8,["modelValue"]),r(N)])])]),r(O,{user:e(t)&&e(t).company,transactions:f.value,searchText:_.value},null,8,["user","transactions","searchText"]),$.value?(c(),V(d,{key:0})):z("",!0)])}}};export{xe as default};
//# sourceMappingURL=ViewReconciliation-5600bf1b.js.map
