{"version":3,"file":"Index-d160e150.js","sources":["../../src/views/settings/roles/RoleList.vue","../../src/views/settings/roles/TeamMember.vue","../../src/views/settings/roles/DisplayRoles.vue","../../src/views/settings/roles/CreateRole.vue","../../src/views/settings/roles/Index.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"uppercase text-sm text-white bg-primary px-3 py-1 rounded-lg\">Roles</div>\n\n    <div class=\"flex flex-col gap-4 h-96 overflow-y-auto mt-6 text-sm\">\n      <div\n        v-for=\"role in allRoles\"\n        :key=\"role._id\"\n        @click=\"$router.push({ query: { id: role._id } })\"\n        :class=\"{ 'text-primary font-bold bg-[#F2F1F1]': role._id === $route.query.id }\"\n        class=\"py-2 px-3 rounded-xl cursor-pointer capitalize text-dark-700 hover:text-primary hover:font-bold hover:bg-[#F2F1F1]\"\n      >\n        {{ role.title }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useDataStore } from '@/stores/data.js'\n\nconst store = useDataStore()\nconst route = useRoute()\nconst router = useRouter()\n\nconst allRoles = computed(() => store.getAllRoles)\nconsole.log('All Roles', allRoles.value)\n\nonMounted(() => {\n  if (route.query && !route.query.id && allRoles.value.length) {\n    router.push({ query: { id: allRoles.value[0]._id } })\n  }\n})\n</script>\n\n<style></style>\n","<template>\n  <div>\n    <div class=\"text-sm mb-3\">Team Members with the role</div>\n\n    <div\n      v-if=\"teams && teams.length\"\n      class=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 place-content-start items-center gap-2 max-h-24 overflow-y-auto\"\n    >\n      <div\n        v-for=\"user in teams\"\n        :key=\"user._id\"\n        class=\"flex items-center gap-2 py-1 px-2 border border-[#E7E8E7] bg-[#F2F1F1] rounded-lg\"\n      >\n        <div\n          class=\"w-8 h-8 flex-shrink-0 bg-primary overflow-hidden rounded-full flex items-center justify-center\"\n        >\n          <img\n            v-if=\"user && user.pfp\"\n            :src=\"user && user.pfp\"\n            alt=\"\"\n            class=\"w-full h-full object-cover\"\n          />\n          <span v-else class=\"text-white text-sm\">\n            {{ initials(`${user && user.firstName} ${user && user.lastName}`) }}\n          </span>\n        </div>\n        <span class=\"text-dark-800 text-sm\">\n          {{ user && user.firstName }}\n          {{ user && user.lastName }}\n        </span>\n      </div>\n    </div>\n    <div v-else class=\"text-sm text-dark-700\">N/A</div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { helperFunctions } from '@/composable/helperFunctions'\nimport { useDataStore } from '@/stores/data.js'\n\nconst { initials } = helperFunctions\nconst route = useRoute()\nconst store = useDataStore()\n\nconst teams = computed(() => {\n  const id = route.query.id\n  return store.getAdminByRole(id)\n})\n\nconsole.log('Admin By Role', teams.value)\n</script>\n\n<style></style>\n","<template>\n  <div class=\"flex flex-col gap-4\">\n    <div\n      :class=\"[hasAccess ? 'bg-primary' : 'bg-secondary']\"\n      class=\"text-sm text-center text-white px-3 py-1 rounded-lg\"\n    >\n      {{ hasAccess ? 'What Role Can Access' : 'What Role Cannot Access' }}\n    </div>\n\n    <easiSearch\n      placeholder=\"Search..\"\n      v-model=\"searchText\"\n      @keyup=\"handleSearch\"\n      @search=\"handleSearch\"\n    />\n\n    <div class=\"max-h-56 overflow-y-auto\">\n      <div\n        v-for=\"privilege in visibleData\"\n        :key=\"privilege._id\"\n        class=\"flex items-center justify-between p-2 text-sm\"\n      >\n        <span class=\"text-dark-700\">\n          {{ formatPrivilege(privilege) }}\n        </span>\n        <i v-if=\"hasAccess\" class=\"pi pi-check text-sm text-success\"></i>\n        <i v-else class=\"pi pi-times text-sm text-secondary\"></i>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport privileges from '@/utils/privileges.js'\nimport { useRoute } from 'vue-router'\nimport { useDataStore } from '@/stores/data.js'\n\nconst store = useDataStore()\nconst route = useRoute()\nconst props = defineProps({\n  hasAccess: {\n    type: Boolean,\n    default: true\n  }\n})\n\nconst searchText = ref('')\n\nconst allRoles = computed(() => store.getAllRoles)\nconst allPrivileges = [\n  'Admin_Management',\n  'Dashboard',\n  'Reports',\n  'Company_Management',\n  'Feedback',\n  'Loan_Managment'\n]\nconst visibleData = ref([])\n\nconst role = computed(() => {\n  return allRoles.value.find((el) => el._id === route.query.id)\n})\n\nconst accessible = computed(() => {\n  return role.value ? role.value.privileges : []\n})\n\nconst inAccessible = computed(() => {\n  return allPrivileges.filter((el) => !accessible.value.includes(el))\n})\n\nconst updateVisibleData = () => {\n  visibleData.value = props.hasAccess ? accessible.value : inAccessible.value\n}\n\nonMounted(() => {\n  updateVisibleData()\n})\n\nwatch(role, () => {\n  console.log(role.value, accessible.value)\n  updateVisibleData()\n})\n\nconst formatPrivilege = (arg) => {\n  return arg ? arg.split('_').join(' ') : arg\n}\n\nconst handleSearch = () => {\n  if (searchText.value.trim() == '') {\n    updateVisibleData()\n  } else {\n    visibleData.value = visibleData.value.filter((el) =>\n      el.title.toLowerCase().includes(searchText.value.toLowerCase())\n    )\n  }\n}\n</script>\n\n<style></style>\n","<template>\n  <easiModal v-if=\"isOpen\" persistence @close=\"$emit('close')\">\n    <div class=\"p-6 flex flex-col gap-4 sm:gap-6\">\n      <div class=\"text-2xl\">\n        {{ type == 'create' ? 'Create New Role' : 'Edit Role' }}\n      </div>\n\n      <form @submit.prevent=\"submit\" ref=\"form\" autocomplete=\"on\" class=\"flex flex-col gap-6\">\n        <easiTextInput v-model=\"args.title\" label=\"Input role name\" :error=\"errorRules.title\" />\n        <easiTextInput\n          v-model=\"args.description\"\n          label=\"Role description\"\n          :error=\"errorRules.description\"\n        />\n        <div class=\"flex gap-2\">\n          <div class=\"grow\">\n            <easiTextInput\n              v-model=\"emailInput\"\n              type=\"email\"\n              inputmode=\"email\"\n              label=\"Add Email (Optional)\"\n              class=\"\"\n              :error=\"errorRules.email\"\n            />\n          </div>\n          <easiButton @click=\"addEmail\" :disabled=\"emailInput.trim() == ''\">Add More</easiButton>\n        </div>\n\n        <div v-if=\"args.email\" class=\"flex flex-col gap-4 max-h-36 overflow-y-auto\">\n          <div\n            v-for=\"(user, i) in args.email\"\n            :key=\"`user-${i}`\"\n            class=\"flex items-center gap-2 py-1 px-2 border border-[#E7E8E7] bg-[#F2F1F1] rounded-lg\"\n          >\n            <div\n              class=\"w-7 h-7 flex-shrink-0 bg-primary overflow-hidden rounded-full flex items-center justify-center\"\n            >\n              <span class=\"text-white text-sm\">\n                {{ user.charAt(0).toUpperCase() }}\n              </span>\n            </div>\n            <div class=\"w-full text-dark-800 text-sm flex items-center justify-between gap-2\">\n              {{ user }}\n              <i\n                @click=\"removeEmail(user)\"\n                class=\"pi pi-minus-circle text-sm text-secondary cursor-pointer\"\n              ></i>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex flex-col gap-4\">\n          <div class=\"py-2 px-4 bg-[#F2F1F1] font-bold text-dark-800 uppercase rounded-lg\">\n            Privileges\n          </div>\n          <div class=\"flex flex-col gap-2 max-h-28 overflow-y-auto\">\n            <div\n              v-for=\"(prev, i) in privileges\"\n              :key=\"`privileges-${i}`\"\n              class=\"flex items-center gap-4 text-sm text-dark-700\"\n            >\n              <Checkbox v-model=\"args.privileges\" :value=\"prev\" :inputId=\"i\" />\n              <span>{{ i }}</span>\n            </div>\n          </div>\n        </div>\n\n        <hr class=\"border border-dividerColor text-dividerColor\" />\n\n        <p class=\"text-center text-primary text-sm sm:px-6 mx-auto\">\n          Please select any of the following permission you would like to assign to this role\n        </p>\n\n        <div class=\"grid grid-cols-2 gap-4 items-center place-content-center\">\n          <easiButton @click=\"$emit('close')\" variant=\"outlined\" block>Cancel</easiButton>\n          <easiButton :loading=\"loading\" type=\"submit\" block>Submit</easiButton>\n        </div>\n      </form>\n    </div>\n  </easiModal>\n\n  <easiAlert\n    v-if=\"successAlert\"\n    :persistence=\"false\"\n    @close=\"successAlert = false\"\n    :caption=\"`${type.toLowerCase() == 'create' ? 'Created' : 'Updated'} Successful`\"\n  >\n  </easiAlert>\n</template>\n\n<script setup>\nimport { computed, onMounted, reactive, ref, watch } from 'vue'\nimport { helperFunctions } from '@/composable/helperFunctions'\nimport { useDataStore } from '@/stores/data.js'\nimport { useToast } from 'vue-toastification'\n\nconst store = useDataStore()\nconst { query, mutate } = store\nconst toast = useToast()\nconst { validateEmail } = helperFunctions\n\nconst props = defineProps({\n  isOpen: {\n    type: Boolean,\n    default: false\n  },\n  type: {\n    type: String,\n    default: 'create'\n  },\n  role: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nconst emit = defineEmits(['close'])\n\nconst watchRole = computed(() => props.role)\n\nconst loading = ref(false)\nconst successAlert = ref(false)\n\nconst privileges = reactive({\n  'Admin Management': 'Admin_Management',\n  Dashboard: 'Dashboard',\n  Reports: 'Reports',\n  'Company Management': 'Company_Management',\n  Feedback: 'Feedback',\n  'Loan Managment': 'Loan_Managment'\n})\n\nconst emailInput = ref('')\nconst args = reactive({\n  title: '',\n  description: '',\n  email: [],\n  privileges: null\n})\n\nconst errorRules = reactive({\n  title: false,\n  description: false\n})\n\nfunction assignValues() {\n  if (props.type.toLowerCase() == 'edit' && props.role) {\n    const keys = ['title', 'description', 'email', 'privileges']\n    for (let i = 0; i < keys.length; i++) {\n      if (props.role && props.role[keys[i]]) {\n        args[keys[i]] = props.role[keys[i]]\n      }\n    }\n  }\n}\n\nassignValues()\n\nwatch(watchRole, () => {\n  console.log(props.role)\n  assignValues()\n})\n\nfunction validation() {\n  if (args.title.trim() === '') {\n    errorRules.title = 'Please fill in the role title'\n    return false\n  } else {\n    //Reset Error\n    Object.keys(errorRules).forEach((key) => {\n      errorRules[key] = false\n    })\n\n    return true\n  }\n}\n\nconst addEmail = () => {\n  const emailExist = args.email.find((el) => el == emailInput.value)\n\n  if (emailInput.value.trim() == '' && !validateEmail(emailInput.value)) {\n    errorRules.email = 'Email is badly formatted'\n  } else if (emailExist) {\n    errorRules.email = 'Email exist already'\n    return false\n  } else {\n    errorRules.email = false\n    args.email.push(emailInput.value)\n    emailInput.value = ''\n  }\n}\n\nconst removeEmail = (email) => {\n  args.email = args.email.filter((el) => el !== email)\n}\n\nconst clearFields = () => {\n  args.title = ''\n  args.description = ''\n  args.email = []\n  args.privileges = null\n}\n\nconst submit = async () => {\n  if (!args.email.length && emailInput.value.trim() !== '') {\n    args.email.push(emailInput.value)\n  }\n\n  if (validation()) {\n    console.log(args)\n\n    loading.value = true\n\n    try {\n      const res = await mutate({\n        endpoint: props.type.toLowerCase() == 'create' ? 'CreateRole' : 'EditRole',\n        data: {\n          input: args\n        }\n      })\n\n      console.log(res)\n      loading.value = false\n\n      if (res.success) {\n        clearFields()\n        emit('close')\n        await queryRoles()\n        successAlert.value = true\n\n        setTimeout(() => {\n          successAlert.value = false\n        }, 3000)\n      } else {\n        toast.error(res.message)\n      }\n    } catch (error) {\n      loading.value = false\n      console.log(error.message)\n    }\n  }\n}\n\nconst queryRoles = async () => {\n  try {\n    loading.value = true\n\n    const res = await query({\n      endpoint: 'ListRoles',\n      storeKey: 'listRoles'\n    })\n\n    console.log('Roles', res)\n\n    loading.value = false\n  } catch (error) {\n    loading.value = false\n    console.log(error.message)\n  }\n}\n</script>\n\n<style></style>\n","<template>\n  <div class=\"flex items-center justify-between\">\n    <h2 class=\"text-xl\">Roles & Permissions</h2>\n    <easiButton @click=\"createRoleModal = true\">\n      <span class=\"flex gap-2 items-center\">\n        <i class=\"pi pi-plus\"></i>\n        Create New Role\n      </span>\n    </easiButton>\n  </div>\n\n  <div class=\"flex gap-6 mt-5 border pl-4 py-4 rounded-2xl\">\n    <div class=\"w-52 lg:w-56 flex-shrink-0\">\n      <RoleList />\n    </div>\n    <div class=\"grow border-l px-6 flex flex-col gap-6\">\n      <div>\n        <div class=\"flex items-center justify-between\">\n          <h4 class=\"text-xl text-primary sm:text-2xl capitalize\">{{ role && role.title }}</h4>\n          <DropDown\n            :isOpen=\"openMenu\"\n            @open=\"openMenu = true\"\n            @close=\"openMenu = false\"\n            :menuItems=\"menuItems\"\n          />\n        </div>\n        <span class=\"text-sm py-2 text-dark-700\">\n          {{ role && role.description ? role.description : 'N/A' }}\n        </span>\n      </div>\n\n      <TeamMember />\n\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mt-2\">\n        <DisplayRoles />\n        <DisplayRoles :hasAccess=\"false\" />\n      </div>\n    </div>\n  </div>\n\n  <easiAlert\n    @close=\"deleteRoleAlert = false\"\n    v-if=\"deleteRoleAlert\"\n    :icon=\"ConfirmIcon\"\n    title=\"Delete Role\"\n    caption=\"Are you sure you want to delete this role? However this action will not be reversible once taken.\"\n  >\n    <div class=\"grid grid-cols-2 gap-4\">\n      <easiButton @click=\"deleteRoleAlert = false\" block variant=\"outlined\">Cancel</easiButton>\n      <easiButton :loading=\"deleteLoading\" @click=\"deleteRole\" block>Yes</easiButton>\n    </div>\n  </easiAlert>\n\n  <easiAlert\n    :persistence=\"false\"\n    @close=\"successAlert = false\"\n    v-if=\"successAlert\"\n    caption=\"You have successfully removed this role\"\n  >\n  </easiAlert>\n\n  <CreateRole :isOpen=\"createRoleModal\" @close=\"createRoleModal = false\" />\n  <CreateRole :isOpen=\"editRoleModal\" @close=\"editRoleModal = false\" type=\"edit\" :role=\"role\" />\n\n  <easiLoader v-if=\"loading\" />\n</template>\n\n<script setup>\nimport RoleList from './RoleList.vue'\nimport TeamMember from './TeamMember.vue'\nimport DisplayRoles from './DisplayRoles.vue'\nimport DropDown from '../shared/DropDown.vue'\n\nimport ConfirmIcon from '@/assets/icons/confirm.svg?url'\nimport EditIcon from '@/assets/icons/editIcon.svg?url'\nimport RemoveIcon from '@/assets/icons/removeIcon.svg?url'\nimport CreateRole from './CreateRole.vue'\n\nimport { useDataStore } from '@/stores/data.js'\nimport { useToast } from 'vue-toastification'\n\nimport { computed, onMounted, ref } from 'vue'\nimport { useRoute } from 'vue-router'\n\nconst route = useRoute()\nconst store = useDataStore()\nconst { query, mutate } = store\nconst toast = useToast()\n\nconst createRoleModal = ref(false)\nconst editRoleModal = ref(false)\nconst deleteRoleAlert = ref(false)\nconst successAlert = ref(false)\n\nconst deleteLoading = ref(false)\nconst loading = ref(false)\n\nconst allRoles = computed(() => store.getAllRoles) //store.getAllRoles\n\nconst role = computed(() => {\n  return allRoles.value && allRoles.value.find((el) => el._id === route.query.id)\n})\n\nconst openMenu = ref(false)\nconst menuItems = computed(() => {\n  return [\n    {\n      title: 'Edit',\n      icon: EditIcon,\n      action() {\n        editRoleModal.value = true\n        openMenu.value = false\n      }\n    },\n    {\n      title: 'Remove',\n      icon: RemoveIcon,\n      action() {\n        deleteRoleAlert.value = true\n        openMenu.value = false\n      }\n    }\n  ]\n})\n\nconst deleteRole = async () => {\n  deleteLoading.value = true\n  console.log(role.value._id)\n  try {\n    const res = await mutate({\n      endpoint: 'DeleteRole',\n      data: {\n        input: {\n          roleId: role.value._id\n        }\n      }\n    })\n\n    console.log(res)\n    deleteLoading.value = false\n    deleteRoleAlert.value = false\n\n    if (res.success) {\n      await queryRoles()\n      successAlert.value = true\n\n      setTimeout(() => {\n        successAlert.value = false\n      }, 3000)\n    } else {\n      toast.error(res.message)\n    }\n  } catch (error) {\n    deleteLoading.value = false\n    console.log(error.message)\n  }\n}\n\nconst queryRoles = async () => {\n  try {\n    loading.value = true\n\n    await query({\n      endpoint: 'ListRoles',\n      storeKey: 'listRoles'\n    })\n\n    loading.value = false\n  } catch (error) {\n    loading.value = false\n    console.log(error.message)\n  }\n}\nqueryRoles()\n// const queryAdminByRoles = async () => {\n//   try {\n//     const res = await query({\n//       endpoint: 'GetAdminsByRole',\n//       payload: {\n//         input: {\n//           roleId: role.value._id\n//         }\n//       },\n//       storeKey:'adminByRole'\n//     })\n\n//     console.log(res)\n//   } catch (error) {\n//     console.log(error.message)\n//   }\n// }\n</script>\n\n<style></style>\n"],"names":["store","useDataStore","route","useRoute","router","useRouter","allRoles","computed","onMounted","initials","helperFunctions","teams","id","searchText","ref","allPrivileges","visibleData","role","el","accessible","inAccessible","updateVisibleData","props","watch","formatPrivilege","arg","handleSearch","query","mutate","toast","useToast","validateEmail","watchRole","loading","successAlert","privileges","reactive","emailInput","args","errorRules","assignValues","keys","i","validation","key","addEmail","emailExist","removeEmail","email","clearFields","submit","res","emit","queryRoles","error","createRoleModal","editRoleModal","deleteRoleAlert","deleteLoading","openMenu","menuItems","EditIcon","RemoveIcon","deleteRole"],"mappings":"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"}